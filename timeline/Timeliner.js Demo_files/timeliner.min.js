;(function($){
	$.timeliner=function(options){
		settings=jQuery.extend({timelineContainer:'#timelineContainer',startState:'closed',baseSpeed:200},options);
		$(document).ready(function(){
		if(settings.startState=='closed'){$(".timelineEvent_1").hide()}else{$(".timelineMinor_1 dt, .timelineMinor_1 dt a").addClass('open').css("fontSize","1.2em");
		$(".timelineEvent_1").show()}$(".timelineMinor_1 dt").toggle(
		function(){
			var currentId=$(this).attr('id');
			$("a",this).removeClass('closed').addClass('open').animate({fontSize:"1.2em"},settings.baseSpeed);
			$("#"+currentId+"EX").show(4*settings.baseSpeed)
			},
		function(){
			var currentId=$(this).attr('id');
			$("a",this).animate({fontSize:"1.0em"},0).removeClass('open').addClass('closed');
			$("#"+currentId+"EX").hide(4*settings.baseSpeed)}
		);
		$(".timelineMajorMarker").toggle(  //展开和关闭的函数
		function(){  //展开
			$(this).parents(".timelineMajor").find("dt a","dl.timelineMinor_1").animate({fontSize:"1.2em"},settings.baseSpeed).removeClass('closed').addClass('open');
			$(this).parents(".timelineMajor").find(".timelineEvent_1").show(4*settings.baseSpeed) //整体都打开
		},
		function(){  //关闭
			$(this).parents(".timelineMajor").find("dl.timelineMinor_1 a").animate({fontSize:"1.0em"},settings.baseSpeed).removeClass('open').addClass('closed');
			$(this).parents(".timelineMajor").find(".timelineEvent_1").hide(4*settings.baseSpeed) //整体都关上
			}
		);
		$(".expandAll").toggle(  //标签修改
		function(){ //展开
			$(this).parents(settings.timelineContainer).find("dt a","dl.timelineMinor_1").animate({fontSize:"1.2em"},settings.baseSpeed).removeClass('closed').addClass('open'); //改变字体的函数,改变css
			$(this).parents(settings.timelineContainer).find(".timelineEvent_1").show(4*settings.baseSpeed); //展开
			$(this).html("- collapse all") //改变html的函数
			},
		function(){  //关闭
			$(this).parents(settings.timelineContainer).find("dl.timelineMinor_1 a").animate({fontSize:"1.0em"},settings.baseSpeed).removeClass('open').addClass('closed');
			$(this).parents(settings.timelineContainer).find(".timelineEvent_1").hide(4*settings.baseSpeed);
			$(this).html("+ expand all")
			}
		)
	})}})(jQuery);